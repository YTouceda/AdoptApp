/*   SCRIPT SQL  - Tablas con Restricciones -   */

CREATE TABLE PERMISOS
       (
       ID_PERMISO BIGINT NOT NULL,                              
       NOMBRE_PERMISO VARCHAR(30) NOT NULL,                              
       PRIMARY KEY
               (
               ID_PERMISO
               )
       );

CREATE TABLE ESTADO
       (
       ID_ESTADO BIGINT NOT NULL,                              
       NOMBRE_ESTADO VARCHAR(50) NOT NULL,                              
       PRIMARY KEY
               (
               ID_ESTADO
               )
       );

CREATE TABLE SEXO_MASCOTA
       (
       ID_SEXO_MASCOTA BIGINT NOT NULL,                              
       TIPO_SEXO_MASCOTA VARCHAR(50) NOT NULL,                              
       PRIMARY KEY
               (
               ID_SEXO_MASCOTA
               )
       );

CREATE TABLE EDAD_MASCOTA
       (
       ID_EDAD_MASCOTA BIGINT NOT NULL,                              
       TIPO_EDAD_MASCOTA VARCHAR(50) NOT NULL,                              
       PRIMARY KEY
               (
               ID_EDAD_MASCOTA
               )
       );


CREATE TABLE TAMANIO_MASCOTA
       (
       ID_TAMANIO BIGINT NOT NULL,                              
       DESCRIPCION VARCHAR(50) NOT NULL,                              
       PRIMARY KEY
               (
               ID_TAMANIO
               )
       );

CREATE TABLE TIPO_DENUNCIAS
       (
       ID_TIPO_DENUNCIA BIGINT NOT NULL,                              
       TIPO_DENUNCIA BIGINT NOT NULL,                              
       PRIMARY KEY
               (
               ID_TIPO_DENUNCIA
               )
       );

CREATE TABLE PROVINCIA
       (
       ID_PROVINCIA BIGINT NOT NULL,                              
       NOMBRE_PROVINCIA VARCHAR(50) NOT NULL,                              
       PRIMARY KEY
               (
               ID_PROVINCIA
               )
       );

CREATE TABLE USUARIO
       (
       ID_USUARIO BIGINT NOT NULL,                        
       ID_PERMISO BIGINT NOT NULL,                              
       ESTADO_BLOQUEO DATETIME NULL,                              
       PRIMARY KEY
               (
               ID_USUARIO
               ),
       FOREIGN KEY
               (
               ID_PERMISO
               )
          REFERENCES PERMISOS
               (
               ID_PERMISO
               )
       );

CREATE TABLE DATOS_PERSONALES
       (
       ID_DATOS_PERSONALES BIGINT NOT NULL,                              
       ID_USUARIO BIGINT NOT NULL,                              
       NOMBRE_USUARIO VARCHAR(50) NOT NULL,                              
       NUM_CONTACTO_USUARIO BIGINT NOT NULL,                              
       EMAIL_USUARIO VARCHAR(100) NULL,                              
       PRIMARY KEY
               (
               ID_DATOS_PERSONALES
               ),
       FOREIGN KEY
               (
               ID_USUARIO
               )
          REFERENCES USUARIO
               (
               ID_USUARIO
               )
       );

CREATE TABLE LOCALIDAD
       (
       ID_LOCALIDAD BIGINT NOT NULL,                              
       ID_PROVINCIA BIGINT NOT NULL,                              
       NOMBRE_LOCALIDAD VARCHAR(100) NOT NULL,                              
       PRIMARY KEY
               (
               ID_LOCALIDAD,
               ID_PROVINCIA
               ),
       FOREIGN KEY
               (
               ID_PROVINCIA
               )
          REFERENCES PROVINCIA
               (
               ID_PROVINCIA
               )
       );

CREATE TABLE RESCATISTA
       (
       ID_USUARIO BIGINT NOT NULL,                              
       ID_UBICACION_RESCATISTA BIGINT NOT NULL,                              
       PRIMARY KEY
               (
               ID_USUARIO
               ),
       FOREIGN KEY
               (
               ID_USUARIO
               )
          REFERENCES USUARIO
               (
               ID_USUARIO
               )
       );

CREATE TABLE MASCOTA
       (
       ID_MASCOTA BIGINT NOT NULL,                              
       ID_USUARIO BIGINT NOT NULL,                               
       NOMBRE_MASCOTA VARCHAR(50) NOT NULL,                              
       ID_SEXO_MASCOTA BIGINT NOT NULL,                              
       ID_EDAD_MASCOTA BIGINT NOT NULL,                              
       ID_TAMANIO_MASCOTA BIGINT NOT NULL,                              
       DESCRIPCION_MASCOTA VARCHAR(500) NOT NULL,                              
       ID_ESTADO_MASCOTA BIGINT NOT NULL,                              
       ID_UBICACION_MASCOTA BIGINT NOT NULL,                              
       FOTOS_MASCOTA BLOB NOT NULL,                              /* VERIFICAR... */                       
       NUM_CONTACTO_MASCOTA VARCHAR(50) NOT NULL,                              
       FECHA_PUBLICADO DATETIME NOT NULL,                              
       PRIMARY KEY
               (
               ID_MASCOTA
               ),
       FOREIGN KEY
               (
               ID_USUARIO
               )
          REFERENCES USUARIO
               (
               ID_USUARIO
               ),
       FOREIGN KEY
               (
               ID_SEXO_MASCOTA
               )
          REFERENCES SEXO_MASCOTA
               (
               ID_SEXO_MASCOTA
               ),
       FOREIGN KEY
               (
               ID_EDAD_MASCOTA
               )
          REFERENCES EDAD_MASCOTA
               (
               ID_EDAD_MASCOTA
               ),
       FOREIGN KEY
               (
               ID_TAMANIO_MASCOTA
               )
          REFERENCES TAMANIO_MASCOTA
               (
               ID_TAMANIO
               ),
       FOREIGN KEY
               (
               ID_ESTADO_MASCOTA
               )
          REFERENCES ESTADO
               (
               ID_ESTADO
               )
       );

CREATE TABLE DENUNCIA
       (
       ID_DENUNCIA BIGINT NOT NULL,                              
       ID_USUARIO BIGINT NOT NULL,                              
       ID_TIPO_DENUNCIA BIGINT NOT NULL,                            
       DESCRIPCION VARCHAR(200) NULL,                              
       PRIMARY KEY
               (
               ID_DENUNCIA
               ),
       FOREIGN KEY
               (
               ID_USUARIO
               )
          REFERENCES USUARIO
               (
               ID_USUARIO
               ),
       FOREIGN KEY
               (
               ID_TIPO_DENUNCIA
               )
          REFERENCES TIPO_DENUNCIAS
               (
               ID_TIPO_DENUNCIA
               )
       );

CREATE TABLE ADOPCION
       (                                                          
       ID_MASCOTA_ADOPTADA BIGINT NOT NULL,                              
       ID_USUARIO_NUEVO_DUEﾃ前 BIGINT NOT NULL,                              
       PRIMARY KEY
               (
               ID_ADOPCION
               ),
       FOREIGN KEY
               (
               ID_MASCOTA_ADOPTADA
               )
          REFERENCES MASCOTA
               (
               ID_MASCOTA
               ),
       FOREIGN KEY
               (
               ID_USUARIO_NUEVO_DUEﾃ前
               )
          REFERENCES USUARIO
               (
               ID_USUARIO
               )
       );

CREATE TABLE DEVUELTO
       (
       ID_DEVOLUCION BIGINT NOT NULL,                             
       ID_MASCOTA BIGINT NOT NULL,                              
       ID_USUARIO_DUEﾃ前 BIGINT NOT NULL,                              
       PRIMARY KEY
               (
               ID_DEVOLUCION
               ),
       FOREIGN KEY
               (
               ID_MASCOTA
               )
          REFERENCES MASCOTA
               (
               ID_MASCOTA
               ),
       FOREIGN KEY
               (
               ID_USUARIO_DUEﾃ前
               )
          REFERENCES USUARIO
               (
               ID_USUARIO
               )
       );

CREATE TABLE POSTULACIONES
       (
       ID_POSTULACION BIGINT NOT NULL,                              
       ID_MASCOTA BIGINT NOT NULL,                             
       ID_USUARIO_POSTULADO BIGINT NOT NULL,                              
       PRIMARY KEY
               (
               ID_POSTULACION
               ),
       FOREIGN KEY
               (
               ID_MASCOTA
               )
          REFERENCES MASCOTA
               (
               ID_MASCOTA
               ),
       FOREIGN KEY
               (
               ID_USUARIO_POSTULADO
               )
          REFERENCES USUARIO
               (
               ID_USUARIO
               )
       );

